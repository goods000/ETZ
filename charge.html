<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>以太零</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/css.css" />
    <link rel="stylesheet" href="css/font.css" />
    <script type="text/javascript" src="js/jquery-1.11.3.min.js" ></script>
    <script type="text/javascript" src="js/public.js" ></script>
</head>
<style>
	.screen-right .container{padding: 0px !important;}
	.h1{position: absolute;width: 100vw;}
</style>
<body style="width: 100vw;">
	<h1 class="h1"><button class="iconfont icon-xiangzuo1" onclick="javascript:window.history.back(-1);"></button>充币<a href="money_record.html">充币记录</a></h1>
	<div class="charge">
		<div class="charge_bbj">
			<div class="qr_code" style="width: 70%;padding:10% 0;margin: auto;"></div>
			<div class="chas_lianjie">
				<input readonly="readonly" value="1723d3pBbYgzLdBPPdCp7CzeSjy5SSevquSevqu" id="biao1"><a onclick="copyUrl2()">复制连接</a>
			</div>
		</div>
		
	</div>
<script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
<script src="js/jquery.qrcode.min.js" type="text/javascript" charset="utf-8"></script>
	<script>
		function copyUrl2(){
			var Url2=document.getElementById("biao1");
			 Url2.select(); // 选择对象
			document.execCommand("Copy"); // 执行浏览器复制命令
			 alert("已复制好，可贴粘。");
		 }
	</script>
	<script>
	jQuery('.qr_code').qrcode({
		render: "canvas", //也可以替换为table
		width: 80,
		height: 80,
		text: "56"
	});

	$('canvas').css({
		'width': '100%',
		"height": "100%"
	});
	
	//生成图片
	function creatImg(obj){
		canvas=false
		//创建一个新的canvas
		var canvas2 = document.createElement("canvas");

		let _canvas=obj[0];
		//  _canvas = document.querySelector('.invite');
		var w = parseInt(window.getComputedStyle(_canvas).width);
		var h = parseInt(window.getComputedStyle(_canvas).height);
		//将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了
		canvas2.width = w * 2;
		canvas2.height = h * 2;
		canvas2.style.width = w + "px";
		canvas2.style.height = h + "px";
		//可以按照自己的需求，对context的参数修改,translate指的是偏移量
		//  var context = canvas.getContext("2d");
		//  context.translate(0,0);
		var context = canvas2.getContext("2d");
		context.scale(2, 2);
		html2canvas(obj[0], { canvas: canvas2 }).then(function(canvas) {
			//document.body.appendChild(canvas);
			//canvas转换成url，然后利用a标签的download属性，直接下载，绕过上传服务器再下载
			//document.querySelector(".down").setAttribute('href', canvas.toDataURL());
			$(".img").attr('src', canvas.toDataURL());
			//$(".banner").show();
		//	$(".invite").hide();
			//   console.log(canvas.toDataURL())
		});
	}

</script>
</body>
</html>